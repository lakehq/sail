- name: execution.output_size
  description: The total output size.
  unit: byte
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.output_row_count
  description: The total number of output rows.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.elapsed_compute_time
  description: The total elapsed compute time.
  unit: s
  type: Gauge
  value_type: f64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.spill_count
  description: The total number of spills to disk.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.spill_size
  description: The total size of spills to disk.
  unit: byte
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.spill_row_count
  description: The total number of rows for all spills to disk.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.memory_used
  description: The amount of memory used.
  unit: byte
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.filter.input_row_count
  description: |
    The number of input rows for the filter operation.
    This metric is useful for calculating the selectivity of the filter operation.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.filter.output_row_count
  description: |
    The number of output rows for the filter operation.
    This metric is useful for calculating the selectivity of the filter operation.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.build_side_time
  description: The time taken to collect the build side of a build-probe join.
  unit: s
  type: Gauge
  value_type: f64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.build_side_batch_count
  description: The number of batches in the build side of a build-probe join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.build_side_row_count
  description: The number of rows in the build side of a build-probe join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.build_side_memory_used
  description: The amount of memory used by the build side of a build-probe join.
  unit: byte
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.probe_side_batch_count
  description: The number of batches in the probe side of a build-probe join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.probe_side_row_count
  description: The number of rows in the probe side of a build-probe join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.operation_time
  description: The time taken to perform the join operation.
  unit: s
  type: Gauge
  value_type: f64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.output_batch_count
  description: The number of output batches from the join operation.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.output_row_count
  description: |
    The number of output rows for a nested loop join operation.
    This metric is useful for calculating the selectivity of the join operation.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.candidate_count
  description: |
    The number of candidates for a join operation,
    calculated as the product of the number of rows in the left and right inputs.
    This metric is useful for calculating the selectivity of the join operation.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.input_batch_count
  description: |
    The total number of batches in both sides of a join operation.
    This applies to sort merge joins.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.input_row_count
  description: |
    The total number of rows in both sides of a join operation.
    This applies to sort merge joins.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.left_input_batch_count
  description: The number of batches in the left stream of a stream join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.left_input_row_count
  description: The number of rows in the left stream of a stream join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.right_input_batch_count
  description: The number of batches in the right stream of a stream join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.right_input_row_count
  description: The number of rows in the right stream of a stream join.
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.join.memory_used
  description: |
    The amount of memory used by the join operation.
    This applies to stream joins and sort merge joins.
  unit: byte
  type: Gauge
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition

- name: execution.unknown_metric_count
  description: The number of unknown DataFusion metrics reported during execution.
  type: Counter
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition
  debug: true

- name: execution.unknown_metric_label_count
  description: The number of unknown DataFusion metric labels reported during execution.
  type: Counter
  value_type: u64
  attributes:
    - job.id
    - task.id
    - task.attempt
    - operator.id
    - operator.name
    - partition
  debug: true
